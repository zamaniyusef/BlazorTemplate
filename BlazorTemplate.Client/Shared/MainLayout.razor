@inherits LayoutComponentBase

<MudRTLProvider RightToLeft="_rightToLeft">
    <MudThemeProvider Theme="_myCustomTheme" @bind-IsDarkMode="@_darkTheme"/>
    <MudDialogProvider/>
    <MudSnackbarProvider/>

    <MudLayout>
        <MudAppBar Elevation="0">
            <MudIconButton Icon="@Icons.Material.Filled.Menu"
                           Color="Color.Inherit"
                           Edge="Edge.Start"
                           OnClick="@(_ => DrawerToggle())"/>
            <MudSpacer/>
            <MudIconButton Icon="@_rightToLeftIcon"
                           Color="Color.Inherit"
                           aria-label="@_rightToLeftLabel"
                           @onclick="ChangeDirection"/>

            <MudIconButton Icon="@_darkThemeIcon"
                           Color="Color.Inherit"
                           aria-label="@_darkThemeLabel"
                           @onclick="ChangeTheme"/>
        </MudAppBar>
        <MudDrawer @bind-Open="_drawerOpen"
                   Elevation="1">
            <MudDrawerHeader>
                <MudText Typo="Typo.h6">
                    قالب پیش‌فرض
                </MudText>
            </MudDrawerHeader>
            <NavMenu/>
        </MudDrawer>
        <MudMainContent>
            <MudContainer MaxWidth="MaxWidth.Large"
                          Class="my-16 pt-16">
                @Body
            </MudContainer>
        </MudMainContent>
    </MudLayout>
</MudRTLProvider>

@code {

    #region PrivateProp

    private readonly MudTheme _myCustomTheme = new()
    {
        Typography = new Typography()
        {
            Default = new Default
            {
                FontFamily = new[] { "Vazirmatn RD" },
                FontSize = "0.875rem",
                FontWeight = 400,
                LineHeight = 1.43
            },
            Body1 = new Body1
            {
                FontFamily = new[] { "Vazirmatn RD" },
                FontSize = "1rem",
                FontWeight = 400,
                LineHeight = 1.5
            },
            Body2 = new Body2
            {
                FontFamily = new[] { "Vazirmatn RD" },
                FontSize = "0.875rem",
                FontWeight = 400,
                LineHeight = 1.43
            },
            Button = new Button
            {
                FontFamily = new[] { "Vazirmatn RD" },
                FontSize = "0.875rem",
                FontWeight = 500,
                LineHeight = 1.75
            },
            H1 = new H1
            {
                FontFamily = new[] { "Vazirmatn RD" },
                FontSize = "6rem",
                FontWeight = 300,
                LineHeight = 1.167
            },
            H2 = new H2
            {
                FontFamily = new[] { "Vazirmatn RD" },
                FontSize = "3.75rem",
                FontWeight = 300,
                LineHeight = 1.2
            },
            H3 = new H3
            {
                FontFamily = new[] { "Vazirmatn RD" },
                FontSize = "3rem",
                FontWeight = 400,
                LineHeight = 1.167
            },
            H4 = new H4
            {
                FontFamily = new[] { "Vazirmatn RD" },
                FontSize = "2.125rem",
                FontWeight = 400,
                LineHeight = 1.235
            },
            H5 = new H5
            {
                FontFamily = new[] { "Vazirmatn RD" },
                FontSize = "1.5rem",
                FontWeight = 400,
                LineHeight = 1.334
            },
            H6 = new H6
            {
                FontFamily = new[] { "Vazirmatn RD" },
                FontSize = "1.25rem",
                FontWeight = 500,
                LineHeight = 1.6
            },
            Caption = new Caption
            {
                FontFamily = new[] { "Vazirmatn RD" },
                FontSize = "0.75rem",
                FontWeight = 400,
                LineHeight = 1.66
            },
            Subtitle1 = new Subtitle1
            {
                FontFamily = new[] { "Vazirmatn RD" },
                FontSize = "1rem",
                FontWeight = 400,
                LineHeight = 1.75
            },
            Subtitle2 = new Subtitle2
            {
                FontFamily = new[] { "Vazirmatn RD" },
                FontSize = "0875rem",
                FontWeight = 500,
                LineHeight = 1.57
            },
            Overline = new Overline
            {
                FontFamily = new[] { "Vazirmatn RD" },
                FontSize = "0.75rem",
                FontWeight = 400,
                LineHeight = 2.66
            }
        }
    };

    private bool _drawerOpen = true;
    private bool _rightToLeft = true;
    private string _rightToLeftIcon = Icons.Filled.FormatTextdirectionLToR;
    private string _rightToLeftLabel = "چپ به راست کردن";
    private bool _darkTheme;
    private string _darkThemeIcon = Icons.Filled.NightlightRound;
    private string _darkThemeLabel = "حالت شب";

    #endregion

    #region PrivateMethod

    private void ChangeDirection()
    {
        _rightToLeft = !_rightToLeft;
        _rightToLeftIcon = _rightToLeft ? Icons.Filled.FormatTextdirectionLToR : Icons.Filled.FormatTextdirectionRToL;
        _rightToLeftLabel = _rightToLeft ? "چپ به راست کردن" : "راست به چپ کردن";
    }

    private void ChangeTheme()
    {
        _darkTheme = !_darkTheme;
        _darkThemeIcon = _darkTheme ? Icons.Filled.WbSunny : Icons.Filled.NightlightRound;
        _darkThemeLabel = _darkTheme ? "حالت روز" : "حالت شب";
    }

    private void DrawerToggle()
    {
        _drawerOpen = !_drawerOpen;
    }

    #endregion

}